(this.webpackJsonpfirst_react_app=this.webpackJsonpfirst_react_app||[]).push([[0],{10:function(e,t,n){e.exports=n(19)},19:function(e,t,n){"use strict";n.r(t);var a=n(0),l=n.n(a),i=n(7),r=n.n(i),o=n(1),c=n(2),u=n(4),s=n(3),d=(n(15),n(5)),m=n.n(d),f=n(8),h=n(9),p=n.n(h),v=function(e){Object(u.a)(n,e);var t=Object(s.a)(n);function n(){var e;Object(o.a)(this,n);for(var a=arguments.length,l=new Array(a),i=0;i<a;i++)l[i]=arguments[i];return(e=t.call.apply(t,[this].concat(l))).state={initial:!0,stream:null,recorder:null,file:null,recording:null,recordTime:""},e.calculateTimeDuration=function(e){var t=Math.floor(e/3600),n=Math.floor((e-3600*t)/60),a=Math.floor(e-3600*t-60*n);return n<10&&(n="0"+n),a<10&&(a="0"+a),t<=0?n+":"+a:t+":"+n+":"+a},e.onClickDisplay=function(){var t=e.props.audioOnly,n=function(t){return e.setState(t)};if(e.setState({initial:!1}),null===navigator.mediaDevices||void 0===navigator.mediaDevices)return alert("\uc774 \ube0c\ub77c\uc6b0\uc800\ub294 \uc2e4\uc2dc\uac04 \ub179\uc74c \ub610\ub294 \ub179\ud654\uac00 \uc9c0\uc6d0\ub418\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4. \ub2e4\ub978 \ube0c\ub77c\uc6b0\uc800\ub97c \uc774\uc6a9\ud558\uac70\ub098 \ud30c\uc77c \uc5c5\ub85c\ub4dc \uae30\ub2a5\uc744 \uc774\uc6a9\ud574 \uc8fc\uc138\uc694."),void n({initial:!0});navigator.mediaDevices.getUserMedia(t?{audio:!0}:{video:!0,audio:!0}).then(function(){var e=Object(f.a)(m.a.mark((function e(t){var a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n({stream:t,recording:!1}),(a=document.getElementById("video")).srcObject=t,a.muted=!0,a.play();case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){alert("\uc624\ub958\uac00 \ubc1c\uc0dd\ud588\uc2b5\ub2c8\ub2e4. \ub2e4\ub978 \ube0c\ub77c\uc6b0\uc800\ub97c \uc774\uc6a9\ud558\uac70\ub098 \ud30c\uc77c \uc5c5\ub85c\ub4dc \uae30\ub2a5\uc744 \uc774\uc6a9\ud574 \uc8fc\uc138\uc694."),n({initial:!0})}))},e.onClickStart=function(){var t=e.state.stream,n=p()(t,{mimeType:"video/webm;codecs=vp8",type:"video",timeSlice:1e3});n.startRecording();e.setState({recorder:n,recording:!0},(function(){var t=(new Date).getTime();!function n(){if(e.state.recorder){var a,l,i=(a=((new Date).getTime()-t)/1e3,e.calculateTimeDuration(a));"00:10"===i&&e.onClickFinish(),l={recordTime:i},e.setState(l),setTimeout(n,1e3)}}()}))},e.onClickFinish=function(){var t=e.state,n=t.stream,a=t.recorder;a.stopRecording((function(){var t,l=a.getBlob(),i=document.getElementById("video");i.srcObject=null,i.src=URL.createObjectURL(l),i.muted=!1,i.play(),n.stop(),a.destroy(),t={recorder:null,stream:null,recording:null,file:l},e.setState(t)}))},e.onClickReset=function(){var t=e.state,n=t.stream,a=t.recorder;null!==n&&n.stop(),null!==a&&a.destroy(),e.setState({initial:!0,stream:null,recorder:null})},e.onChangeFile=function(t){var n=t.target.files[0];e.setState({file:n,initial:!1},(function(){console.log(n),document.getElementById("video").src=URL.createObjectURL(n)}))},e.onClickCancel=function(){var t=e.state,n=t.stream,a=t.recorder;null!==n&&n.stop(),null!==a&&a.destroy(),e.props.onHide()},e}return Object(c.a)(n,[{key:"render",value:function(){var e=this.state,t=e.initial,n=e.recording,a=e.file,i=e.recordTime,r=this.props.audioOnly;return l.a.createElement("div",{style:{width:400,height:320,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"space-between",padding:20,backgroundColor:"#ddd"}},t?l.a.createElement("div",{style:{width:400,height:280,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",backgroundColor:"white"}},l.a.createElement("button",{onClick:this.onClickDisplay},"\uc2e4\uc2dc\uac04 ",r?"\ub179\uc74c":"\ub179\ud654"),l.a.createElement("input",{type:"file",accept:r?"audio/*":"video/*",onChange:this.onChangeFile}),l.a.createElement("span",null,"\uc704 \ubc84\ud2bc\uc744 \ub204\ub974\uba74 ",l.a.createElement("b",null,"\uc601\uc0c1 \ucd2c\uc601"),"\uc744 \ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4."),l.a.createElement("span",null,"\ub179\uc74c/\ub179\ud654\ub97c \ub9c8\uce58\uc2e0 \ud6c4 ",l.a.createElement("b",null,"\ud655\uc778")," \ubc84\ud2bc\uc744 \ub20c\ub7ec\uc8fc\uc138\uc694.")):l.a.createElement("video",{id:"video",controls:null===n,width:400,height:280,style:{backgroundColor:"transparent"}}),l.a.createElement("span",null,"\ub179\ud654 \uc2dc\uac04: ",i,"(\ucd5c\ub300 00:10)"),l.a.createElement("div",{style:{display:"flex",flexDirection:"row"}},!1===t&&!1===n?l.a.createElement("button",{onClick:this.onClickStart},"\ub179\uc74c \uc2dc\uc791"):null,!1===t&&!0===n?l.a.createElement("button",{onClick:this.onClickFinish},"\ub179\uc74c \uc885\ub8cc"):null,!1===t&&null!==a?l.a.createElement("a",{href:URL.createObjectURL(a),download:"RecordRTC.webm"},"\ub2e4\uc6b4\ub85c\ub4dc"):null,!1===t?l.a.createElement("button",{onClick:this.onClickReset},"\ucc98\uc74c\ubd80\ud130"):null,l.a.createElement("button",{onClick:this.onClickCancel},"\ucde8\uc18c")))}}]),n}(l.a.Component),y=function(e){Object(u.a)(n,e);var t=Object(s.a)(n);function n(){var e;Object(o.a)(this,n);for(var a=arguments.length,l=new Array(a),i=0;i<a;i++)l[i]=arguments[i];return(e=t.call.apply(t,[this].concat(l))).state={showSelect:!1,audioOnly:null},e.onClick=function(){return e.setState({showSelect:!0,audioOnly:null})},e.onClickAudio=function(){return e.setState({showSelect:!1,audioOnly:!0})},e.onClickVideo=function(){return e.setState({showSelect:!1,audioOnly:!1})},e.onHide=function(){return e.setState({showSelect:!1,audioOnly:null})},e}return Object(c.a)(n,[{key:"render",value:function(){var e=this.state,t=e.showSelect,n=e.audioOnly;return l.a.createElement("div",{style:{display:"block"}},l.a.createElement("h1",null,"RecordRTC \uc74c\uc131/\uc601\uc0c1 \uc5c5\ub85c\ub4dc \ud504\ub85c\ud1a0\ud0c0\uc785"),l.a.createElement("button",{onClick:this.onClick},"\uc74c\uc131 \ud639\uc740 \uc601\uc0c1\uc73c\ub85c \uc785\ub825\ud558\uae30"),t?l.a.createElement("div",{style:{marginTop:30,display:"block"}},l.a.createElement("button",{onClick:this.onClickAudio},"\uc74c\uc131\uc73c\ub85c \uc785\ub825\ud558\uae30"),l.a.createElement("button",{onClick:this.onClickVideo},"\uc601\uc0c1\uc73c\ub85c \uc785\ub825\ud558\uae30")):null,null!==n?l.a.createElement(v,{audioOnly:n,onHide:this.onHide}):null)}}]),n}(l.a.Component);r.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(y,null)),document.getElementById("root"))}},[[10,1,2]]]);
//# sourceMappingURL=main.7360856d.chunk.js.map